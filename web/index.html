<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Background generator</title>
        <link rel="stylesheet" href="Semantic-UI-CSS/semantic.min.css">
        <link rel="icon" href="icon.png" type="image/png">
        <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
        <script src="Semantic-UI-CSS/semantic.min.js"></script>
        <script src="state.js"></script>
        <script src="generator.js"></script>
    </head>
    <body>
        <main>
            <h1>Background generator</h1>
        </main>
        <div id="interface">
            <h3>Colors</h3>
            <select v-model="state.selectedPalette" id="palette-selector" class="ui dropdown" @change="changePalette(state.selectedPalette)">
                <option v-for="palette in state.palettes" :value="palette.id">{{ palette.name }}</option>
            </select>
            <div v-for="color in state.colors" class="ui input">
                <input type="checkbox" v-model="color[1]"></input>
                <span style="width: 1.5rem; height: 1.5rem; margin: auto 0.4rem;" v-bind:style="{'background-color': color}"></span>
                <input type="text" v-model="color[0]"></input>
                <br>
            </div>
            <h3>Blocks</h3>
            <label>Amount
                <input type="number" v-model="state.blockAmount" min="0" max="50"></input>
            </label>
            <label>Largeness
                <span>{{ state.largeness }}</span>
                <input type="range" v-model="state.largeness" min="1" max="7" step="0.1"></input>
            </label>
            <label>Size variation
                <span>{{ state.sizeVariation }}</span>
                <input type="range" v-model="state.sizeVariation" min="0" max="4" step="0.1"></input>
            </label>
            <h3>Location</h3>
            <button class="ui button" onclick="state.randSeed = + new Date()">Randomize alignment</button>
            <label>Start angle
                <input type="range" v-model="state.seedAngle" min="0" max="7" step="0.1"></input>
            </label>
            <label>Angle increasement between blocks
                <input type="range" v-model="state.angleIncrement" min="0" max="2" step="0.01"></input>
            </label>
            <h3>Size</h3>
            <label>Width
            <input type="number" v-model="state.width"></input>
            </label>
            <label>Height
            <input type="number" v-model="state.height"></input>
            </label>
            <button onclick="next()" class="ui button">Update</button>
            <button onclick="save('background.png')" class="ui button">Download</button>
            <span>Update automatically</span>
            <button onclick="state.next = true; state.autonext = !state.autonext;" class="ui button">{{ state.autonext ? "Stop" : "Start" }}</button>
        </div>
        <script src="interface.js"></script>
    </body>
</html>
